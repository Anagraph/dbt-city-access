{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/commons/auth/anagraph_dark.png","webpack:///./src/App.vue","webpack:///./src/App.vue?ae2f","webpack:///./src/views/Home.vue","webpack:///./src/components/Dropdown.vue","webpack:///./src/components/Dropdown.vue?096a","webpack:///./src/components/Map.vue","webpack:///./src/commons/lib/useToggleLayers.js","webpack:///./src/components/mapbox-controls/attributionControl.js","webpack:///./src/components/mapbox-controls/logoControl.js","webpack:///./src/components/Map.vue?57bc","webpack:///./src/components/Selector.vue","webpack:///./src/components/Selector.vue?26ef","webpack:///./src/commons/lib/expressionBuilder.js","webpack:///./src/commons/lib/symbologyBuilder.js","webpack:///./src/symbologiesHelper.js","webpack:///./src/config.js","webpack:///./src/commons/auth/firebase-auth.js","webpack:///./src/views/Home.vue?7720","webpack:///./src/views/Login.vue","webpack:///./src/commons/auth/Login.vue","webpack:///./src/commons/auth/Login.vue?55b9","webpack:///./src/views/Login.vue?c242","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/commons/auth/Login.vue?ef57"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_createBlock","_component_router_view","__exports__","render","class","_createElementBlock","_createVNode","_component_left_panel_layout","selected-tab","$setup","$event","is-left-panel-open","tabs","left-panel","_withCtx","_hoisted_1","_createElementVNode","_hoisted_3","_component_Selector","layers-styled-config","visible-layer-groups","onUpdateVisibleLayerGroups","checkedGroups","_component_Dropdown","category-widgets","active-category-widget","_cache","selected","_Fragment","_renderList","categoryWidget","_component_CategoryWidget","id","ref","items","filter-type","onFilter","_hoisted_4","_hoisted_5","map","_component_Map","token","config","filter","onLoaded","onUpdateCategoryWidgets","$props","onInput","_ctx","_hoisted_2","props","categoryWidgets","Array","default","activeCategoryWidget","String","emits","setup","options","computed","widgetsWithValue","widget","find","item","formattedLabel","lowerCaseLabel","split","join","capitalizedLabel","charAt","toUpperCase","_component_gl_map","init-map-position","logo-control","attr-control","useToggleLayers","mapRef","layersStyledConfig","visibleLayerGroups","onMounted","on","forEach","layerGroup","layers","source","style","before","sourceId","layerId","addSource","addLayer","layout","visibility","includes","watch","newVal","oldVal","layerGroupsToShow","g","layerGroupsToHide","layer","setLayoutProperty","attrControl","mapboxgl","AttributionControl","compact","customAttribution","LogoControl","this","_map","_container","className","innerHTML","parentNode","removeChild","components","GlMap","emit","toRef","shallowRef","logoControl","mapboxFilter","setFilter","flat","layerIds","features","queryRenderedFeatures","transformRequest","url","resourceType","process","VUE_APP_PROTECTED_TILES_URL","startsWith","headers","Authorization","center","lng","lat","zoom","hash","for","picked","buildCategoriesPaintExpression","symbology","defaultColor","matchCases","color","buildRangesPaintExpression","interpolateCases","max","ranges","categories","paintBuilder","fill","expression","line","circle","symbologyParams","geometryType","symbologyType","symbologyItems","expressionBuilder","addLayersSymbologies","layerGroups","symbologies","group","symbologyPaint","symbologyBuilder","paint","getCategoryWidgetItems","visibleLayers","visibleSymbologies","reducers","acc","curr","featurePropertyNames","keys","properties","featurePropertyValue","accItem","symbologyItem","label","range","min","rangeItem","filteredSymbologies","symbologyWidgetItems","initialWidgetItems","filteredFeatures","feature","reduce","createLayerFilter","filterBuilder","symbologyValues","f","rangeItems","parseFloat","filterFunction","user","initialised","firebase","initializeApp","auth","google","signInWithPopup","GoogleAuthProvider","useLogin","email","password","login","signInWithEmailAndPassword","resp","getToken","getIdToken","onAuthStateChanged","u","icon","getJsonData","axios","then","LeftPanelLayout","Map","Selector","Dropdown","CategoryWidget","layerSymbologies","mapConfig","log","layersDefaultConfig","widgetsRef","$refs","filters","reset","mapLoaded","mapFilter","currentTab","setCategoryWidgets","updateCategoryWidgets","oldWidgetsWithValue","newWidgetsWithValue","newWidgetsWithValueIds","w","oldWidgetsWithValueIds","_","isEqual","applyFilter","isArray","_component_login","_imports_0","_renderSlot","onSubmit","placeholder","autocomplete","_hoisted_6","loginReturnUrl","newUser","router","Login","routes","path","component","Home","meta","public","createRouter","history","createWebHistory","beforeEach","to","next","matched","some","record","i18n","createI18n","locale","fallbackLocale","messages","createApp","App","use","mount"],"mappings":"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","file":"js/app.74797eb2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0b24e0\":\"37e51d16\",\"chunk-6cb316e6\":\"88dcc952\",\"chunk-d4bb2988\":\"2a15fe36\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/anagraph_dark.430a1cf4.png\";","<template>\n  <router-view />\n</template>\n","import { render } from \"./App.vue?vue&type=template&id=43f8a59e\"\nconst script = {}\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <main>\n    <left-panel-layout\n      v-model:selected-tab=\"currentTab\"\n      :is-left-panel-open=\"mapLoaded\"\n      :tabs=\"tabs\"\n    >\n      <template #left-panel>\n        <div v-if=\"mapLoaded && layersStyledConfig && visibleLayerGroups\">\n          <div class=\"left-panel__container\">\n            <div v-if=\"currentTab === 'layers'\">\n              <!-- <h1 class=\"left-panel__title\">{{ $t('home.title') }}</h1>  -->\n              <Selector\n                :layers-styled-config=\"layersStyledConfig\"\n                :visible-layer-groups=\"visibleLayerGroups\"\n                @updateVisibleLayerGroups=\"\n                  checkedGroups => (visibleLayerGroups = checkedGroups)\n                \"\n              />\n              <Dropdown\n                :category-widgets=\"categoryWidgets\"\n                :active-category-widget=\"activeCategoryWidget\"\n                @update:active-category-widget=\"\n                  selected => (activeCategoryWidget = selected)\n                \"\n              />\n              <CategoryWidget\n                v-for=\"categoryWidget in categoryWidgets\"\n                v-show=\"categoryWidget.id === activeCategoryWidget\"\n                :key=\"categoryWidget.id\"\n                :ref=\"setCategoryWidgets\"\n                :items=\"categoryWidget.items\"\n                filter-type=\"multi-filters\"\n                @filter=\"applyFilter\"\n              />\n            </div>\n            <div v-else>another tab</div>\n          </div>\n        </div>\n        <div v-else>loading ...</div>\n      </template>\n      <template #map>\n        <Map\n          v-if=\"layersStyledConfig\"\n          :token=\"token\"\n          :config=\"mapConfig\"\n          :layers-styled-config=\"layersStyledConfig\"\n          :visible-layer-groups=\"visibleLayerGroups\"\n          :filter=\"mapFilter\"\n          @loaded=\"mapLoaded = true\"\n          @update-category-widgets=\"updateCategoryWidgets\"\n        />\n      </template>\n    </left-panel-layout>\n    <!-- <panel class=\"home__right-panel\" /> -->\n  </main>\n</template>\n\n<script>\nimport LeftPanelLayout from '@anagraph/left-panel-layout'\nimport Dropdown from '@/components/Dropdown.vue'\nimport CategoryWidget from '@anagraph/category-widget'\nimport Map from '@/components/Map'\nimport Selector from '@/components/Selector'\nimport _ from 'lodash'\nimport {\n  addLayersSymbologies,\n  getCategoryWidgetItems,\n  createLayerFilter\n} from '@/symbologiesHelper.js'\nimport { getToken } from '@/commons/auth/firebase-auth'\nimport { computed, onMounted, ref, watch } from 'vue'\nimport axios from 'axios'\nconst tabs = [\n  { id: 'layers', icon: 'fa-map' },\n  { id: 'analysis', icon: 'fa-chart-bar' }\n]\nasync function getJsonData(type) {\n  if (!process.env.VUE_APP_DISTANT_DATA) {\n    if (type === 'layer-configurations') {\n      return (await import('@/layer-configurations')).default\n    }\n    if (type === 'layer-symbologies') {\n      return (await import('@/layer-symbologies')).default\n    }\n    if (type === 'map-configuration') {\n      return (await import('@/map-configuration')).default\n    }\n  } else {\n    return axios\n      .get(`${process.env.VUE_APP_LAYERS_API}/configurations/${type}.json`)\n      .then(r => r?.data || [])\n  }\n\n  // }\n}\nexport default {\n  name: 'Home',\n  components: {\n    LeftPanelLayout,\n    Map,\n    Selector,\n    Dropdown,\n    CategoryWidget\n  },\n  setup() {\n    const visibleLayerGroups = ref([])\n    const activeCategoryWidget = ref(null)\n    const layersStyledConfig = ref(null)\n    const layerSymbologies = ref(null)\n    const mapConfig = ref(null)\n    onMounted(async () => {\n      console.log('mounted')\n      token.value = await getToken()\n      const layersDefaultConfig = await getJsonData('layer-configurations')\n      layerSymbologies.value = await getJsonData('layer-symbologies')\n      mapConfig.value = await getJsonData('map-configuration')\n      layersStyledConfig.value = addLayersSymbologies(\n        layersDefaultConfig,\n        layerSymbologies.value\n      )\n      visibleLayerGroups.value = [layersStyledConfig.value[0]]\n      activeCategoryWidget.value = layersStyledConfig.value.find(\n        layerGroup => layerGroup.id === visibleLayerGroups.value[0].id\n      ).layers[0].id\n    })\n\n    watch(visibleLayerGroups, () => {\n      if (widgetsRef.value) {\n        widgetsRef.value.forEach(widget => {\n          if (widget?.$refs?.filters) widget.$refs.filters.reset()\n        })\n      }\n    })\n\n    const mapLoaded = ref(false)\n    const token = ref(null)\n    const visibleLayers = computed(() =>\n      visibleLayerGroups.value?.map(group => group.layers).flat()\n    )\n    const categoryWidgets = ref([])\n    const widgetsRef = ref([])\n    const mapFilter = ref([])\n\n    const currentTab = ref('layers')\n\n    const setCategoryWidgets = categoryWidget => {\n      widgetsRef.value.push(categoryWidget)\n    }\n\n    const updateCategoryWidgets = features => {\n      if (!visibleLayers.value) return\n      const oldWidgetsWithValue = categoryWidgets.value.filter(widget =>\n        widget.items.find(item => item.value)\n      )\n      categoryWidgets.value = getCategoryWidgetItems(\n        visibleLayers.value,\n        layerSymbologies.value,\n        features\n      )\n      const newWidgetsWithValue = categoryWidgets.value.filter(widget =>\n        widget.items.find(item => item.value)\n      )\n\n      const newWidgetsWithValueIds = newWidgetsWithValue.map(w => w.id)\n      const oldWidgetsWithValueIds = oldWidgetsWithValue.map(w => w.id)\n\n      if (\n        categoryWidgets.value.length &&\n        !_.isEqual(newWidgetsWithValueIds, oldWidgetsWithValueIds)\n      ) {\n        activeCategoryWidget.value = categoryWidgets.value.find(widget =>\n          widget.items.find(item => item.value)\n        ).id\n      }\n    }\n\n    const applyFilter = filter => {\n      mapFilter.value = createLayerFilter(\n        Array.isArray(filter) || filter === null ? filter : [filter],\n        activeCategoryWidget.value,\n        layerSymbologies.value\n      )\n    }\n    return {\n      token,\n      mapLoaded,\n      layersStyledConfig,\n      visibleLayerGroups,\n      categoryWidgets,\n      activeCategoryWidget,\n      setCategoryWidgets,\n      updateCategoryWidgets,\n      applyFilter,\n      mapFilter,\n      tabs,\n      currentTab,\n      mapConfig\n    }\n  }\n}\n</script>\n","<template>\n  <select\n    v-if=\"options.length > 1\"\n    class=\"dropdown\"\n    :value=\"activeCategoryWidget\"\n    @input=\"$emit('update:activeCategoryWidget', $event.target.value)\"\n  >\n    <option\n      v-for=\"categoryWidget in options\"\n      :key=\"categoryWidget.id\"\n      :value=\"categoryWidget.id\"\n    >\n      {{ formattedLabel(categoryWidget.id) }}\n    </option>\n  </select>\n</template>\n\n<script>\nimport { computed } from 'vue'\nexport default {\n  props: {\n    categoryWidgets: {\n      type: Array,\n      default: () => []\n    },\n    activeCategoryWidget: {\n      type: String,\n      default: ''\n    }\n  },\n  emits: ['update:activeCategoryWidget'],\n  setup(props) {\n    const options = computed(() => {\n      const widgetsWithValue = props.categoryWidgets.filter(widget =>\n        widget.items.find(item => item.value)\n      )\n      return widgetsWithValue\n    })\n    const formattedLabel = id => {\n      const lowerCaseLabel = id.split('-').join(' ')\n      const capitalizedLabel =\n        lowerCaseLabel.charAt(0).toUpperCase() + lowerCaseLabel.slice(1)\n      return capitalizedLabel\n    }\n    return { options, formattedLabel }\n  }\n}\n</script>\n\n<style></style>\n","import { render } from \"./Dropdown.vue?vue&type=template&id=8cb55a44\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=js\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <gl-map\n      ref=\"mapRef\"\n      :init-map-position=\"options\"\n      :logo-control=\"logoControl\"\n      :attr-control=\"attrControl\"\n    />\n  </div>\n</template>\n\n<script>\nimport GlMap from '@anagraph/gl-map'\nimport { useToggleLayers } from '../commons/lib/useToggleLayers'\nimport { shallowRef, onMounted, toRef, watch } from 'vue'\nimport AttributionControl from '@/components/mapbox-controls/attributionControl'\nimport LogoControl from '@/components/mapbox-controls/logoControl'\n\nexport default {\n  components: {\n    GlMap\n  },\n  props: {\n    token: {\n      type: String,\n      default: null\n    },\n    layersStyledConfig: {\n      type: Array,\n      default: () => []\n    },\n    visibleLayerGroups: {\n      type: Array,\n      default: () => []\n    },\n    filter: {\n      type: Array,\n      default: () => []\n    },\n    config: {\n      type: Object,\n      default: () => null\n    }\n  },\n  emits: ['loaded', 'update-category-widgets'],\n  setup(props, { emit }) {\n    const filter = toRef(props, 'filter')\n    const mapRef = shallowRef(null)\n    const visibleLayerGroups = toRef(props, 'visibleLayerGroups')\n    const attrControl = AttributionControl\n    const logoControl = LogoControl\n    useToggleLayers(mapRef, props.layersStyledConfig, visibleLayerGroups)\n    onMounted(() => {\n      const map = mapRef.value.map\n      map.on('load', () => {\n        watch(filter, newVal => {\n          if (!newVal) return\n          newVal.map(({ layerId, filter: mapboxFilter }) => {\n            mapRef.value.map.setFilter(layerId, mapboxFilter)\n          })\n        })\n        watch(visibleLayerGroups, () => {\n          props.layersStyledConfig.forEach(layerGroup =>\n            layerGroup.layers.forEach(layer =>\n              mapRef.value.map.setFilter(layer.id, ['all'])\n            )\n          )\n        })\n        emit('loaded', true)\n      })\n      map.on('idle', () => {\n        const map = mapRef.value.map\n        const layers = visibleLayerGroups.value.map(g => g.layers).flat()\n        const layerIds = layers.map(l => l.id)\n        const features = map.queryRenderedFeatures({\n          layers: layerIds\n        })\n        emit('update-category-widgets', features)\n      })\n    })\n    const transformRequest = (url, resourceType) => {\n      if (!process.env.VUE_APP_PROTECTED_TILES_URL) return\n      if (\n        resourceType === 'Tile' &&\n        url.startsWith(process.env.VUE_APP_PROTECTED_TILES_URL)\n      ) {\n        return {\n          url: url,\n          headers: { Authorization: `Bearer ${props.token}` }\n        }\n      }\n    }\n    return {\n      mapRef,\n      options: {\n        center: { lng: -73.7394, lat: 45.5547 },\n        zoom: 9,\n        transformRequest,\n        hash: process.env.NODE_ENV === 'development',\n        ...props.config\n      },\n      attrControl,\n      logoControl\n    }\n  }\n}\n</script>\n","import { onMounted, watch } from 'vue'\n\nexport const useToggleLayers = (\n  mapRef,\n  layersStyledConfig,\n  visibleLayerGroups\n) => {\n  onMounted(() => {\n    const map = mapRef.value.map\n    map.on('load', () => {\n      layersStyledConfig.forEach(layerGroup => {\n        layerGroup.layers.forEach(({ id, source, style, before }) => {\n          const sourceId = `${id}-source`\n          const layerId = id\n          map.addSource(sourceId, source)\n          map.addLayer(\n            {\n              ...style,\n              id: layerId,\n              source: sourceId,\n              layout: {\n                ...style.layout,\n                visibility: visibleLayerGroups.value\n                  .map(layerGroup => layerGroup.id)\n                  .includes(layerGroup.id)\n                  ? 'visible'\n                  : 'none'\n              }\n            },\n            before\n          )\n        })\n      })\n    })\n  })\n  watch(visibleLayerGroups, (newVal, oldVal) => {\n    const layerGroupsToShow = newVal.filter(g => !oldVal.includes(g))\n    const layerGroupsToHide = oldVal.filter(g => !newVal.includes(g))\n\n    layerGroupsToShow.forEach(layerGroup => {\n      layerGroup.layers.forEach(layer => {\n        mapRef.value.map.setLayoutProperty(layer.id, 'visibility', 'visible')\n      })\n    })\n    layerGroupsToHide.forEach(layerGroup => {\n      layerGroup.layers.forEach(layer => {\n        mapRef.value.map.setLayoutProperty(layer.id, 'visibility', 'none')\n      })\n    })\n  })\n  return {\n    mapRef\n  }\n}\n","import mapboxgl from 'mapbox-gl'\nconst attrControl = new mapboxgl.AttributionControl({\n  compact: true,\n  customAttribution:\n    '<b><a style=\"color: #FEC503\"  href=\"https://anagraph.io/\" target=\"_blank\">Anagraph</a></b>'\n})\n\nexport default attrControl\n","class LogoControl {\n  onAdd(map) {\n    this._map = map\n    this._container = document.createElement('span')\n    this._container.style = 'margin-bottom: 5px;'\n    this._container.className = 'mapboxgl-ctrl'\n    this._container.innerHTML = `<a target=\"_blank\" href=\"http://anagraph.io/\">\n                                    <img src=\"anagraph_dark.png\" height=\"20px\">\n                                </a>`\n    return this._container\n  }\n\n  onRemove() {\n    this._container.parentNode.removeChild(this._container)\n    this._map = undefined\n  }\n}\n\nexport default new LogoControl()\n","import { render } from \"./Map.vue?vue&type=template&id=5a46fffd\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"selector\">\n    <div\n      v-for=\"layerGroup in layersStyledConfig\"\n      :key=\"layerGroup.id\"\n      class=\"selector__item\"\n    >\n      <input\n        :id=\"layerGroup.id\"\n        v-model=\"picked\"\n        class=\"selector__input\"\n        type=\"checkbox\"\n        :value=\"layerGroup\"\n      />\n      <label class=\"selector__label\" :for=\"layerGroup.id\">{{\n        layerGroup.id\n      }}</label>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch } from 'vue'\nexport default {\n  props: {\n    layersStyledConfig: {\n      type: Array,\n      default: () => []\n    },\n    visibleLayerGroups: {\n      type: Array,\n      default: () => ['one']\n    }\n  },\n  emits: ['update-visible-layer-groups'],\n  setup(props, { emit }) {\n    const picked = ref(props.visibleLayerGroups)\n\n    watch(picked, () => {\n      emit('update-visible-layer-groups', picked.value)\n    })\n\n    return { picked }\n  }\n}\n</script>\n","import { render } from \"./Selector.vue?vue&type=template&id=37a245be\"\nimport script from \"./Selector.vue?vue&type=script&lang=js\"\nexport * from \"./Selector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n *  build mapbox paint expression for category symbology\n * @param {String} property the layer property to target\n * @param {Array} symbology a symbology array of objects with properties value and color\n * @param {String} defaultColor a fallback color\n * @returns {Array}\n */\nexport function buildCategoriesPaintExpression(\n  property,\n  symbology,\n  defaultColor\n) {\n  const matchCases = [\n    ...symbology.map(({ value, color }) => [value, color]).flat(),\n    defaultColor\n  ]\n  return ['match', ['get', property], ...matchCases]\n}\n\n/**\n *  build mapbox paint expression for ranges symbology\n * @param {String} property the layer property to target\n * @param {Array} symbology a symbology array of objects { label, color }\n * @param {String} defaultColor a fallback color\n * @returns {Array}\n */\nexport function buildRangesPaintExpression(property, symbology, defaultColor) {\n  const interpolateCases = [\n    ...symbology.map(({ max, color }) => [color, max]).flat()\n  ]\n  return [\n    'step',\n    ['to-number', ['get', property]],\n    ...interpolateCases,\n    defaultColor\n  ]\n}\n\nexport default {\n  ranges: buildRangesPaintExpression,\n  categories: buildCategoriesPaintExpression\n}\n","import expressionBuilder from './expressionBuilder'\nconst paintBuilder = {\n  fill: expression => ({ 'fill-color': expression }),\n  line: expression => ({ 'line-color': expression }),\n  circle: expression => ({ 'circle-color': expression })\n}\n\nexport default function (symbologyParams) {\n  const {\n    property,\n    geometryType,\n    symbologyType,\n    symbologyItems,\n    defaultColor\n  } = symbologyParams\n  const expression = expressionBuilder[symbologyType](\n    property,\n    symbologyItems,\n    defaultColor\n  )\n  return paintBuilder[geometryType](expression)\n}\n","import symbologyBuilder from '@/commons/lib/symbologyBuilder'\n\nexport function addLayersSymbologies(layerGroups, symbologies) {\n  return layerGroups.map(group => {\n    const layers = group.layers.map(layer => {\n      const symbology = symbologies.find(s => s.id === layer.id)\n      if (symbology) {\n        const symbologyPaint = symbologyBuilder(symbology)\n        return {\n          ...layer,\n          style: {\n            ...layer.style,\n            paint: { ...layer.style.paint, ...symbologyPaint }\n          }\n        }\n      } else {\n        return layer\n      }\n    })\n    return {\n      ...group,\n      layers\n    }\n  })\n}\n\nexport function getCategoryWidgetItems(visibleLayers, symbologies, features) {\n  const visibleSymbologies = visibleLayers.map(layer =>\n    symbologies.find(symbology => symbology.id === layer.id)\n  )\n\n  const reducers = {\n    categories: (acc, curr) => {\n      const featurePropertyNames = Object.keys(curr.properties)\n      const symbology = symbologies.find(s =>\n        featurePropertyNames.includes(s.property)\n      )\n      const featurePropertyValue = curr.properties[symbology.property]\n      const item = acc.find(accItem => accItem.id === featurePropertyValue)\n      if (!item) {\n        const symbologyItem = symbology.symbologyItems.find(\n          i => i.value === featurePropertyValue\n        )\n        const { value: id, label: name, color } = symbologyItem\n        return [...acc, { id, name, color, value: 1 }]\n      } else {\n        item.value++\n        return acc\n      }\n    },\n    ranges: (acc, curr) => {\n      const symbology = symbologies.find(\n        symbology => symbology.id === curr.layer.id\n      )\n      const featurePropertyValue = curr.properties[symbology.property]\n      const range = symbology.symbologyItems.find(\n        i => i.min <= featurePropertyValue && i.max > featurePropertyValue\n      )\n      if (!range) {\n        return acc\n      }\n      const rangeItem = acc.find(i => i.id === range.value)\n      rangeItem.value++\n      return acc\n    }\n  }\n\n  const filteredSymbologies = visibleSymbologies.filter(\n    symbology => symbology && reducers[symbology.symbologyType]\n  )\n\n  const result = filteredSymbologies.map(symbology => {\n    const symbologyWidgetItems = symbology.symbologyItems.map(\n      ({ color, label: name, value }) => ({\n        id: value,\n        name,\n        color,\n        value: 0\n      })\n    )\n    const initialWidgetItems =\n      symbology.symbologyType === 'categories'\n        ? [...symbologyWidgetItems]\n        : symbologyWidgetItems\n\n    const filteredFeatures = features.filter(\n      feature => feature.layer.id === symbology.id\n    )\n\n    return {\n      id: symbology.id,\n      items: filteredFeatures.reduce(\n        reducers[symbology.symbologyType],\n        initialWidgetItems\n      )\n    }\n  })\n  return result\n}\n\nexport function createLayerFilter(filter, layerId, symbologies) {\n  const filterBuilder = {\n    categories: filter => {\n      if (filter === 'others-value') {\n        const symbologyValues = symbology.symbologyItems.map(s => s.value)\n        return [\n          '!',\n          [\n            'any',\n            ['in', ['get', symbology.property], ['literal', symbologyValues]]\n          ]\n        ]\n      }\n      if (filter) {\n        return [\n          'any',\n          ...filter.map(f => [\n            'any',\n            ['==', ['get', symbology.property], ['literal', f]]\n          ])\n        ]\n      } else {\n        return ['all']\n      }\n    },\n    ranges: filter => {\n      if (filter) {\n        const rangeItems = filter.map(f =>\n          symbology.symbologyItems.find(i => i.label === f || i.value === f)\n        )\n\n        return [\n          'any',\n          ...rangeItems.map(rangeItem => [\n            'all',\n            [\n              '>=',\n              ['to-number', ['get', symbology.property]],\n              parseFloat(rangeItem.min)\n            ],\n            [\n              '<',\n              ['to-number', ['get', symbology.property]],\n              parseFloat(rangeItem.max)\n            ]\n          ])\n        ]\n      } else {\n        return ['all']\n      }\n    }\n  }\n  const symbology = symbologies.find(s => s.id === layerId)\n  if (!symbology) return []\n  const filterFunction = filterBuilder[symbology.symbologyType]\n  if (!filterFunction) return []\n  return [{ layerId, filter: filterFunction(filter) }]\n}\n","export default {\n  // \"firebase\": {\n  //   \"apiKey\": \"AIzaSyAdgslK7jPL0hVUlJ18k-B3rkus1IbG3zk\",\n  //   \"authDomain\": \"cookit-map.firebaseapp.com\",\n  //   \"projectId\": \"cookit-map\",\n  //   \"storageBucket\": \"cookit-map.appspot.com\",\n  //   \"messagingSenderId\": \"946381736864\",\n  //   \"appId\": \"1:946381736864:web:8d58c5ce0d6e1d1225b2c5\"\n  // }\n}\n","import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport { ref } from 'vue'\nimport config from '../../config'\n\nexport const user = ref(null)\nexport const initialised = ref(false)\n\nif (config?.firebase) {\n  firebase.initializeApp(config.firebase)\n} else {\n  user.value = false\n}\nconst auth = config?.firebase ? firebase.auth() : null\n\nif (auth) {\n  auth.onAuthStateChanged(u => {\n    user.value = u\n    initialised.value = true\n  })\n}\n\nexport async function logout() {\n  await auth.signOut()\n}\n\nexport async function google() {\n  await auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\n}\n\nexport function useSignup() {\n  const email = ref('')\n  const password = ref('')\n\n  async function signup() {\n    if (email.value === '' || password.value === '') return\n\n    const creds = await auth.createUserWithEmailAndPassword(\n      email.value,\n      password.value\n    )\n\n    if (!creds.user) throw Error('Signup failed')\n\n    user.value = creds.user\n  }\n\n  return {\n    email,\n    password,\n    signup\n  }\n}\n\nexport function useLogin() {\n  const email = ref('')\n  const password = ref('')\n\n  async function login() {\n    const resp = await auth.signInWithEmailAndPassword(\n      email.value,\n      password.value\n    )\n\n    if (!resp.user) throw Error('No user')\n\n    user.value = resp.user\n  }\n\n  return {\n    email,\n    password,\n    login\n  }\n}\n\nexport async function getToken() {\n  return user.value ? await user.value.getIdToken() : null\n}\n","import { render } from \"./Home.vue?vue&type=template&id=f0e6eff6\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <login />\n  </div>\n</template>\n\n<script>\nimport Login from '../commons/auth/Login'\nexport default {\n  components: {\n    Login\n  }\n}\n</script>\n","<template>\n  <div class=\"login\">\n    <div class=\"login-panel\">\n      <div class=\"login-panel-bar\"></div>\n      <slot name=\"login-logo\">\n        <img class=\"login-panel-logo\" src=\"./anagraph_dark.png\" />\n      </slot>\n      <form class=\"login-container-form\" @submit.prevent=\"login\">\n        <div class=\"login-panel-input\">\n          <input\n            v-model=\"email\"\n            type=\"email\"\n            placeholder=\"Utilisateur\"\n            autocomplete=\"email\"\n          />\n          <input\n            v-model=\"password\"\n            type=\"password\"\n            placeholder=\"Mot de passe\"\n            autocomplete=\"password\"\n          />\n        </div>\n        <button type=\"submit\">CONNEXION</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { watch } from 'vue'\nimport { user, google, useLogin } from './firebase-auth'\nimport router from '@/router'\n\nexport default {\n  props: {\n    loginReturnUrl: { type: String, default: '/' }\n  },\n  setup(props) {\n    watch(\n      () => user.value,\n      newUser => {\n        if (newUser) {\n          router.push(props.loginReturnUrl)\n        }\n      }\n    )\n    return {\n      ...useLogin(),\n      google\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  background-color: #f4f4f4;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n  &-panel {\n    background-color: white;\n    height: 333px;\n    width: 400px;\n    &-bar {\n      height: 6px;\n      background-color: black;\n      border-radius: 2px;\n    }\n    &-logo {\n      width: 300px;\n      padding: 40px 0px 20px 0px;\n    }\n    &-input {\n      margin-bottom: 20px;\n\n      input {\n        height: 50px;\n        width: 300px;\n        border: solid 1px #e1e1e1;\n        border-radius: 2px;\n        font-size: 14px;\n        letter-spacing: 0.35px;\n        padding: 15px;\n        color: #666666;\n        &:first-child {\n          margin-bottom: 10px;\n        }\n      }\n    }\n  }\n}\n\nbutton {\n  background-color: black;\n  color: white;\n  font-size: 14px;\n  font-weight: 600;\n  border: none;\n  width: 150px;\n  height: 50px;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.logos {\n  display: flex;\n  justify-content: space-between;\n  width: 400px;\n  padding: 0 40px;\n}\n.anagraph-logo {\n  margin: 20px;\n  width: 120px;\n}\n.k2-logo {\n  margin: 20px;\n  width: 50px;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=bfdfb8a4&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=bfdfb8a4&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bfdfb8a4\"]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=04cbd9c6\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/thomasragot/Documents/code/anagraph-geostack/qgis_gds_plugin/vue-app-starter/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport { watch } from 'vue'\nimport Home from '../views/Home.vue'\nimport Login from '../views/Login.vue'\nimport { user, initialised } from '@/commons/auth/firebase-auth'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: { public: true }\n  },\n  {\n    path: '/protected',\n    name: 'Protected',\n    component: Home\n    // meta: { public: false }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    meta: { public: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  // base: process.env.BASE_URL,\n  routes\n})\n\nif (user.value !== false) {\n  router.beforeEach((to, _, next) => {\n    if (initialised.value) {\n      if (!to.matched.some(record => record.meta.public) && !user.value) {\n        return next('/login')\n      }\n\n      next()\n    } else {\n      watch(\n        () => initialised.value,\n        newVal => {\n          if (newVal) {\n            if (!to.matched.some(record => record.meta.public) && !user.value) {\n              return next('/login')\n            }\n\n            next()\n          }\n        }\n      )\n    }\n  })\n}\n\nexport default router\n","import { createApp } from 'vue'\nimport { createI18n } from 'vue-i18n'\nimport messages from './messages'\nimport App from './App.vue'\nimport router from './router'\nimport 'normalize.css'\nimport '@/assets/styles/main.scss'\nconst i18n = createI18n({\n  locale: 'fr',\n  fallbackLocale: 'en',\n  messages\n})\ncreateApp(App).use(router).use(i18n).mount('#app')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=bfdfb8a4&lang=scss&scoped=true\""],"sourceRoot":""}